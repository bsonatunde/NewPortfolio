{"ast":null,"code":"import React,{useEffect,useState}from'react';import Footer from'../components/Footer';import Header from'../components/Header';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Projects=()=>{const[projects,setProjects]=useState([]);const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[link,setLink]=useState('');const[media,setMedia]=useState(null);// Fetch projects from backend on mount\nconst apiUrl=process.env.REACT_APP_API_URL;useEffect(()=>{const fetchProjects=async()=>{const response=await fetch(`${apiUrl}/api/projects`);const data=await response.json();console.log('Fetched projects:',data);// Debug log\nsetProjects(data.reverse());// Show latest first\n};fetchProjects();},[apiUrl]);// Optionally, you can add a function to refresh projects after upload\nconst refreshProjects=async()=>{const response=await fetch(`${apiUrl}/api/projects`);const data=await response.json();setProjects(data.reverse());};const handleSubmit=async e=>{e.preventDefault();if(!title||!description||!link)return;const formData=new FormData();formData.append('title',title);formData.append('description',description);formData.append('link',link);if(media)formData.append('media',media);await fetch(`${apiUrl}/api/projects`,{method:'POST',body:formData});setTitle('');setDescription('');setLink('');setMedia(null);refreshProjects();// Refresh list after upload\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",style:{minHeight:'calc(100vh - 120px)',maxWidth:1100,margin:'0 auto',padding:24},children:[/*#__PURE__*/_jsx(Header,{title:\"Bsonat Portfolio\",links:[{name:'Home',href:'/'},{name:'Projects',href:'/projects'},{name:'Contact',href:'/contact'}]}),/*#__PURE__*/_jsxs(\"div\",{className:\"projects\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:32},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Projects\"}),/*#__PURE__*/_jsx(Link,{to:\"/upload\",style:{padding:'10px 24px',background:'#22223b',color:'#fff',borderRadius:4,textDecoration:'none',fontWeight:600},children:\"Upload Project\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(320px, 1fr))',gap:32},children:projects.map((project,idx)=>{// Determine if the file is an image or video\nconst getMediaUrl=url=>{if(!url)return'';if(url.startsWith('/uploads/')){return`http://localhost:5000${url}`;}return url;};const isVideo=project.image&&(project.image.endsWith('.mp4')||project.image.endsWith('.webm')||project.image.endsWith('.mov'));return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:12,boxShadow:'0 2px 8px rgba(34,34,59,0.07)',padding:20,display:'flex',flexDirection:'column',alignItems:'center'},children:[project.image?isVideo?/*#__PURE__*/_jsxs(\"video\",{controls:true,style:{width:180,height:120,objectFit:'cover',borderRadius:8,marginBottom:12},children:[/*#__PURE__*/_jsx(\"source\",{src:getMediaUrl(project.image)}),\"Your browser does not support the video tag.\"]}):/*#__PURE__*/_jsx(\"img\",{src:getMediaUrl(project.image),alt:project.title,style:{width:180,height:120,objectFit:'cover',borderRadius:8,marginBottom:12}}):/*#__PURE__*/_jsx(\"div\",{style:{width:180,height:120,display:'flex',alignItems:'center',justifyContent:'center',background:'#eee',borderRadius:8,marginBottom:12,color:'#888'},children:\"No image or video\"}),/*#__PURE__*/_jsx(\"h2\",{style:{margin:'8px 0'},children:project.title}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#444',marginBottom:12},children:project.description}),/*#__PURE__*/_jsx(\"a\",{href:project.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#4a4e69',textDecoration:'underline',fontWeight:500},children:\"View Project\"})]},project._id||project.id||idx);})}),/*#__PURE__*/_jsx(Footer,{})]})]});};export default Projects;","map":{"version":3,"names":["React","useEffect","useState","Footer","Header","Link","jsx","_jsx","jsxs","_jsxs","Projects","projects","setProjects","title","setTitle","description","setDescription","link","setLink","media","setMedia","apiUrl","process","env","REACT_APP_API_URL","fetchProjects","response","fetch","data","json","console","log","reverse","refreshProjects","handleSubmit","e","preventDefault","formData","FormData","append","method","body","className","style","minHeight","maxWidth","margin","padding","children","links","name","href","display","justifyContent","alignItems","marginBottom","to","background","color","borderRadius","textDecoration","fontWeight","gridTemplateColumns","gap","map","project","idx","getMediaUrl","url","startsWith","isVideo","image","endsWith","boxShadow","flexDirection","controls","width","height","objectFit","src","alt","target","rel","_id","id"],"sources":["C:/Program Files/Portfolio/developer-portfolio/src/pages/Projects.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Project } from '../types';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { Link } from 'react-router-dom';\n\nconst Projects: React.FC = () => {\n    const [projects, setProjects] = useState<Project[]>([]);\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [link, setLink] = useState('');\n    const [media, setMedia] = useState<File | null>(null);\n\n    // Fetch projects from backend on mount\n    const apiUrl = process.env.REACT_APP_API_URL;\n    useEffect(() => {\n        const fetchProjects = async () => {\n            const response = await fetch(`${apiUrl}/api/projects`);\n            const data = await response.json();\n            console.log('Fetched projects:', data); // Debug log\n            setProjects(data.reverse()); // Show latest first\n        };\n        fetchProjects();\n    }, [apiUrl]);\n\n\n    // Optionally, you can add a function to refresh projects after upload\n    const refreshProjects = async () => {\n        const response = await fetch(`${apiUrl}/api/projects`);\n        const data = await response.json();\n        setProjects(data.reverse());\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!title || !description || !link) return;\n        const formData = new FormData();\n        formData.append('title', title);\n        formData.append('description', description);\n        formData.append('link', link);\n        if (media) formData.append('media', media);\n        await fetch(`${apiUrl}/api/projects`, {\n            method: 'POST',\n            body: formData\n        });\n        setTitle('');\n        setDescription('');\n        setLink('');\n        setMedia(null);\n        refreshProjects(); // Refresh list after upload\n    };\n\n    return (\n        <div className=\"main-content\" style={{ minHeight: 'calc(100vh - 120px)', maxWidth: 1100, margin: '0 auto', padding: 24 }}>\n            <Header\n                title=\"Bsonat Portfolio\"\n                links={[\n                    { name: 'Home', href: '/' },\n                    { name: 'Projects', href: '/projects' },\n                    { name: 'Contact', href: '/contact' }\n                ]}\n            />\n            <div className=\"projects\">\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 32 }}>\n                    <h1>My Projects</h1>\n                    <Link to=\"/upload\" style={{ padding: '10px 24px', background: '#22223b', color: '#fff', borderRadius: 4, textDecoration: 'none', fontWeight: 600 }}>Upload Project</Link>\n                </div>\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))', gap: 32 }}>\n                    {projects.map((project, idx) => {\n                        // Determine if the file is an image or video\n                        const getMediaUrl = (url?: string) => {\n                            if (!url) return '';\n                            if (url.startsWith('/uploads/')) {\n                                return `http://localhost:5000${url}`;\n                            }\n                            return url;\n                        };\n                        const isVideo = project.image && (project.image.endsWith('.mp4') || project.image.endsWith('.webm') || project.image.endsWith('.mov'));\n                        return (\n                            <div key={project._id || project.id || idx} style={{ background: '#fff', borderRadius: 12, boxShadow: '0 2px 8px rgba(34,34,59,0.07)', padding: 20, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                                {project.image ? (\n                                    isVideo ? (\n                                        <video controls style={{ width: 180, height: 120, objectFit: 'cover', borderRadius: 8, marginBottom: 12 }}>\n                                            <source src={getMediaUrl(project.image)} />\n                                            Your browser does not support the video tag.\n                                        </video>\n                                    ) : (\n                                        <img src={getMediaUrl(project.image)} alt={project.title} style={{ width: 180, height: 120, objectFit: 'cover', borderRadius: 8, marginBottom: 12 }} />\n                                    )\n                                ) : (\n                                    <div style={{ width: 180, height: 120, display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#eee', borderRadius: 8, marginBottom: 12, color: '#888' }}>\n                                        No image or video\n                                    </div>\n                                )}\n                                <h2 style={{ margin: '8px 0' }}>{project.title}</h2>\n                                <p style={{ color: '#444', marginBottom: 12 }}>{project.description}</p>\n                                <a href={project.link} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#4a4e69', textDecoration: 'underline', fontWeight: 500 }}>View Project</a>\n                            </div>\n                        );\n                    })}\n                </div>\n                <Footer />\n            </div>\n        </div>\n    );\n};\n\nexport default Projects;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}